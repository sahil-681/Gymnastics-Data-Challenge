aa_scores_f$nas[aa_scores_f$ID == id] <- n_nas
}
top3_i <- aa_scores_f$ID[order(-aa_scores_f$scores)[1:3]]
top3_countries <- as.character(sapply(top3_i, function(i) ID_country_dict$Country[ID_country_dict$ID == i]))
country_medals$Golds[country_medals$Country == top3_countries[1]] = country_medals$Golds[country_medals$Country == top3_countries[1]] + 1
country_medals$Silvers[country_medals$Country == top3_countries[2]] = country_medals$Silvers[country_medals$Country == top3_countries[2]] + 1
country_medals$Bronzes[country_medals$Country == top3_countries[3]] = country_medals$Bronzes[country_medals$Country == top3_countries[3]] + 1
get_event_final_scores <- function(gender, app, IDs){
out_df <- data.frame(
ID = IDs,
gender = rep(gender, length(IDs)),
app = rep(app, length(IDs)),
score = rep(0, length(IDs))
)
out_df$Score <- sapply(out_df$ID,
function(id) rnorm(1,
mean=players_means[players_means$ID==id, app],
sd=players_sds[players_sds$ID==id, app]
)
)
return(out_df)
}
for(i in 1:dim(qual_ind)[1]){
curr_event <- qual_ind[i, ]
scores <- get_event_final_scores(curr_event$Gender, curr_event$App, as.character(curr_event[, 3:ncol(curr_event)]))
top3_i <- scores$ID[order(-scores$score)[1:3]]
top3_countries <- as.character(sapply(top3_i, function(i) ID_country_dict$Country[ID_country_dict$ID == i]))
country_medals$Golds[country_medals$Country == top3_countries[1]] = country_medals$Golds[country_medals$Country == top3_countries[1]] + 1
country_medals$Silvers[country_medals$Country == top3_countries[2]] = country_medals$Silvers[country_medals$Country == top3_countries[2]] + 1
country_medals$Bronzes[country_medals$Country == top3_countries[3]] = country_medals$Bronzes[country_medals$Country == top3_countries[3]] + 1
}
write.csv(country_medals, "data/medalling_outputs.csv", row.names=F)
country_medals
m_apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
f_apps <- c("VT", "BB", "UB", "FX")
# f_apps
print(data[data$Gender == "m" & data$Country == "USA", c(c("ID", "Gender", "Country"), f_apps)])
setwd("C:/Users/Raymond/Documents/Classes/SDS625/gymnastics")
data <- read.csv("data/means_per_app.csv")
dim(data)
head(data)
m_apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
f_apps <- c("VT", "BB", "UB", "FX")
# f_apps
print(data[data$Gender == "m" & data$Country == "USA", c(c("ID", "Gender", "Country"), f_apps)])
# f_apps
print(data[data$Gender == "m" & data$Country == "USA", c(c("ID", "Gender", "Country"), m_apps)])
# f_apps
print(data[data$Gender == "w" & data$Country == "USA", c(c("ID", "Gender", "Country"), f_apps)])
getwd()
means <- read.csv("data/means_per_app.csv")
stddevs <- read.csv("data/stddevs_per_app.csv")
get_reasonable_sets <- function(country, gender, means_df, stddevs_df){
m_apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
f_apps <- c("VT", "BB", "UB", "FX")
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
}
means <- read.csv("data/means_per_app.csv")
stddevs <- read.csv("data/stddevs_per_app.csv")
get_reasonable_sets("USA", "w", means, stddevs)
str(means)
means$ID
means[, "ID"]
get_reasonable_sets <- function(country, gender, means_df, stddevs_df){
if(gender == m){
apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
}
else{
apps <- c("VT", "BB", "UB", "FX")
}
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
for(app in apps){
sorted <- curr_means$ID[order(curr_means[, app])][1:5]
print(sorted)
}
}
get_reasonable_sets("USA", "w", means, stddevs)
get_reasonable_sets <- function(country, gender, means_df, stddevs_df){
if(gender == "m"){
apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
}
else{
apps <- c("VT", "BB", "UB", "FX")
}
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
for(app in apps){
sorted <- curr_means$ID[order(curr_means[, app])][1:5]
print(sorted)
}
}
get_reasonable_sets("USA", "w", means, stddevs)
get_reasonable_sets <- function(country, gender, means_df, stddevs_df){
if(gender == "m"){
apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
}
else{
apps <- c("VT", "BB", "UB", "FX")
}
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
reasonables <- numeric(length(apps))
for(i in 1:length(apps)){
sorted <- curr_means$ID[order(curr_means[, apps[i]])][1:5]
reasonables[i] <- sorted
}
return(reasonables)
}
get_reasonable_sets("USA", "w", means, stddevs)
get_reasonable_sets <- function(country, gender, means_df, stddevs_df, top_n){
if(gender == "m"){
apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
}
else{
apps <- c("VT", "BB", "UB", "FX")
}
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
reasonables <- numeric(length(apps)*top_n)
for(i in 1:length(apps)){
sorted <- curr_means$ID[order(curr_means[, apps[i]])][1:top_n]
reasonables[top_n*(i-1)+c(1:top_n)] <- sorted
}
return(reasonables)
}
get_reasonable_sets("USA", "w", means, stddevs)
get_reasonable_sets("USA", "w", means, stddevs, 5)
get_reasonable_sets("USA", "w", means, stddevs, 5)
get_reasonable_sets <- function(country, gender, means_df, stddevs_df, top_n){
if(gender == "m"){
apps <- c("VT", "FX", "HB", "PB", "PH", "SR")
}
else{
apps <- c("VT", "BB", "UB", "FX")
}
curr_means <- means_df[means_df$Country == country & means_df$Gender == gender, ]
curr_stddevs <- stddevs_df[stddevs_df$Country == country & means_df$Gender == gender, ]
reasonables <- numeric(length(apps)*top_n)
for(i in 1:length(apps)){
sorted <- curr_means$ID[order(curr_means[, apps[i]])][1:top_n]
reasonables[top_n*(i-1)+c(1:top_n)] <- sorted
}
return(unique(reasonables))
}
get_reasonable_sets("USA", "w", means, stddevs, 5)
get_reasonable_sets(country="USA", gender="m", means_df = means_df, stddevs_df = stddevs_df, top_n=5)
source(get_reasonable_set.R)
getwd()
source("get_reasonable_set.R")
source("get_reasonable_set.R")
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
get_reasonable_sets(country="USA", gender="m", means_df = means_df, stddevs_df = stddevs_df, top_n=5)
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
top_12_teams <- read.csv("data/optimized.womens.teams.csv")
alt36 <- read.csv("data/womens_36_athletes.csv")
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
data_list <- rep(NA, 3)
data_list[1] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data.list[2] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list <- rep(NA, 3)
data_list[1] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data.list[2] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list <- rep(NA, 3)
data_list[1] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data_list[2] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list[3] <- data.frame(
ID = c("a", "b", "c"),
App = "VT",
Country = c("ieh", "GBR", "USA")
)
data_list
data_list <- list()
data_list[1] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data_list[2] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list[3] <- data.frame(
ID = c("a", "b", "c"),
App = "VT",
Country = c("ieh", "GBR", "USA")
)
data_list
data_list <- list()
data_list[[1]] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data_list[[2]] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list[[3]] <- data.frame(
ID = c("a", "b", "c"),
App = "VT",
Country = c("ieh", "GBR", "USA")
)
data_list
rbindlist(data_list)
library(data.table)
rbindlist(data_list)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
start <- Sys.time()
rnorm(1, 30, 5)
print(Sys.time - start)
start <- Sys.time()
rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
start <- Sys.time()
asdf <- rnorm(1000, 30, 5)
print(Sys.time() - start)
data_list <- list()
data_list[[1]] <- data.frame(
ID = c("a", "b", "c"),
App = "Team",
Country = c("ESA", "USA", "GBR")
)
data_list[[2]] <- data.frame(
ID = c("a", "b", "c"),
App = "AA",
Country = c("ieh", "GBR", "USA")
)
data_list[[3]] <- data.frame(
ID = c("a", "b", "c"),
App = "VT",
Country = c("ieh", "GBR", "USA")
)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)[1]
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)[2]
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)[3]
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
top_12_teams <- read.csv("data/optimized.womens.teams.csv")
alt36 <- read.csv("data/womens_36_athletes.csv")
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
top_12_teams <- read.csv("data/optimized.womens.teams.csv")
alt36 <- read.csv("data/womens_36_athletes.csv")
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
rbindlist(data_list)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
top_12_teams <- read.csv("data/optimized.womens.teams.csv")
alt36 <- read.csv("data/womens_36_athletes.csv")
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
means_df <- read.csv("data/means_per_app.csv")
stddevs_df <- read.csv("data/stddevs_per_app.csv")
top_12_teams <- read.csv("data/optimized.womens.teams.csv")
alt36 <- read.csv("data/womens_36_athletes.csv")
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
source("simulate_medals.R")
simulate_medals(top_12_teams, alt36, means_df, stddevs_df, "w", ptime=T)
shiny::runApp('Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy')
print("bood")
print("bood")
library(dplyr)
men_best <- readRDS("best.teams.mens.rds")
getwd()
library(dplyr)
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastics_copy")
library(dplyr)
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge")
men_best <- readRDS("gymnastics_copy/best.teams.mens.rds")
getwd()
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge")
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastic copy")
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy")
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy")
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy")
library(dplyr)
setwd("C:/Users/Raymond/Documents/Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy")
men_best <- readRDS("best.teams.mens.rds")
women_best <- readRDS("best.teams.womens.rds")
means_df <- readRDS("means_df.rds")
key <- readRDS("name_ID_key.rds")
source("query.existing.database.R")
means_df
shiny::runApp('Classes/SDS625/Gymnastics-Data-Challenge/gymnastics copy')
shiny::runApp()
install.packages("glue")
shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
